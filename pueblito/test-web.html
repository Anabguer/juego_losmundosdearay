<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Web - Los Mundos de Aray</title>
</head>
<body>
    <h1>ğŸ§ª Test de DetecciÃ³n de Entorno</h1>
    <div id="result"></div>
    
    <script type="module">
        // Detectar si estamos en web o Capacitor
        const isWeb = typeof window !== 'undefined' && !window.Capacitor;
        
        const result = document.getElementById('result');
        
        if (isWeb) {
            result.innerHTML = `
                <p>âœ… <strong>Entorno detectado: WEB</strong></p>
                <p>ğŸŒ Cargando versiÃ³n web de Firebase...</p>
            `;
            
            // Probar carga de mÃ³dulos web
            try {
                import('./js/firebase-web.js?v=1').then(() => {
                    result.innerHTML += '<p>âœ… firebase-web.js cargado correctamente</p>';
                    
                    import('./js/auth-system-web.js?v=1').then(() => {
                        result.innerHTML += '<p>âœ… auth-system-web.js cargado correctamente</p>';
                        
                        import('./js/ui-auth-web.js?v=1').then(() => {
                            result.innerHTML += '<p>âœ… ui-auth-web.js cargado correctamente</p>';
                            result.innerHTML += '<p>ğŸ‰ <strong>Todos los mÃ³dulos web cargados correctamente!</strong></p>';
                        }).catch(err => {
                            result.innerHTML += `<p>âŒ Error cargando ui-auth-web.js: ${err.message}</p>`;
                        });
                    }).catch(err => {
                        result.innerHTML += `<p>âŒ Error cargando auth-system-web.js: ${err.message}</p>`;
                    });
                }).catch(err => {
                    result.innerHTML += `<p>âŒ Error cargando firebase-web.js: ${err.message}</p>`;
                });
            } catch (error) {
                result.innerHTML += `<p>âŒ Error: ${error.message}</p>`;
            }
        } else {
            result.innerHTML = `
                <p>ğŸ“± <strong>Entorno detectado: CAPACITOR</strong></p>
                <p>Usando mÃ³dulos npm...</p>
            `;
        }
    </script>
</body>
</html>





